<ion-content style="--background: #0b0e11;">
  <div class="fintech-container">
    <div class="chart-main-card">
      <div class="chart-header">
        <div class="info">
          <h2>Evolución Histórica: {{ nombreEmbalse }}</h2>
          <div class="main-value">
            {{ volumenTotalHeader | number:'1.2-2' }} <span>hm³</span>
            <small [class]="tendenciaPositiva ? 'variation positive' : 'variation negative'">
              {{ tendenciaPositiva ? '+' : '' }}{{ variacionVolumenTotal | number:'1.2-2' }}hm³
            </small>
          </div>

          <div class="main-value">
            {{ porcentajeTotalHeader | number:'1.2-2' }} <span>%</span>
            <small [class]="tendenciaPositiva ? 'variation positive' : 'variation negative'">
              {{ tendenciaPositiva ? '+' : '' }}{{ variacionPorcentajeTotalHeader | number:'1.2-2' }}%
            </small>
          </div>
        </div>

        <div class="time-filters">
          <button (click)="updateChart('1D')" [class.active]="filter === '1D'">1D</button>
          <button (click)="updateChart('1S')" [class.active]="filter === '1S'">1S</button>
          <button (click)="updateChart('1M')" [class.active]="filter === '1M'">1M</button>
          <button (click)="updateChart('3M')" [class.active]="filter === '3M'">3M</button>
          <button (click)="updateChart('YTD')" [class.active]="filter === 'YTD'">YTD</button>
          <button (click)="updateChart('1A')" [class.active]="filter === '1A'">1A</button>
          <button (click)="updateChart('2A')" [class.active]="filter === '2A'">2A</button>
          <button (click)="updateChart('3A')" [class.active]="filter === '3A'">3A</button>
          <button (click)="updateChart('ALL')" [class.active]="filter === 'ALL'">ALL</button>
        </div>
      </div>
      <div class="chart-body">
        <canvas #evolutionChart></canvas>
      </div>
    </div>
  </div>
</ion-content>